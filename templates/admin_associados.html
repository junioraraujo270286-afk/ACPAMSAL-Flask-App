{% extends 'base.html' %}
{% block content %}
<div class="card shadow-sm border-0 rounded-4 overflow-hidden">
    <div class="card-header bg-dark text-warning p-3 d-flex justify-content-between align-items-center">
        <h5 class="mb-0 fw-bold"><i class="fas fa-motorcycle me-2"></i>GESTÃO DE CONDUTORES</h5>
        <span class="badge bg-taxi">SÓCIOS ATIVOS</span>
    </div>
    <div class="card-body bg-white">
        <form action="{{ url_for('admin_associados') }}" method="POST" class="row g-3 mb-4 border-bottom pb-4">
            <div class="col-md-2">
                <label class="small fw-bold text-muted">MATRÍCULA</label>
                <input type="text" name="matricula" class="form-control border-2" placeholder="001" required>
            </div>
            <div class="col-md-4">
                <label class="small fw-bold text-muted">NOME COMPLETO</label>
                <input type="text" name="nome" class="form-control border-2" required>
            </div>
            <div class="col-md-4">
                <label class="small fw-bold text-muted">E-MAIL (LOGIN)</label>
                <input type="email" name="email" class="form-control border-2" required>
            </div>
            <div class="col-md-2">
                <label class="small fw-bold text-muted">PLACA</label>
                <input type="text" name="placa" class="form-control border-2" placeholder="ABC1D23" required>
            </div>
            <div class="col-md-9">
                <label class="small fw-bold text-muted">MODELO DA MOTO</label>
                <input type="text" name="modelo" class="form-control border-2" placeholder="Honda CG 160 Titan..." required>
            </div>
            <div class="col-md-3 d-flex align-items-end">
                <button class="btn btn-taxi w-100 fw-bold py-2 shadow-sm">CADASTRAR SÓCIO</button>
            </div>
        </form>

        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Foto</th><th>Condutor</th><th>Matrícula</th><th>Placa</th><th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {% for s in socios %}
                    <tr>
                        <td>
                            <img src="{{ url_for('static', filename='uploads/' + s.foto) }}" class="rounded-circle border border-2 border-warning shadow-sm" width="50" height="50" style="object-fit: cover;">
                        </td>
                        <td><span class="fw-bold d-block">{{ s.nome.upper() }}</span><small class="text-muted">{{ s.email }}</small></td>
                        <td class="text-muted">{{ s.matricula }}</td>
                        <td><span class="badge bg-dark text-warning p-2 fs-6">{{ s.placa }}</span></td>
                        <td>
                            <a href="{{ url_for('gerar_carteirinha', id=s.id) }}" class="btn btn-sm btn-dark" title="Imprimir PDF"><i class="fas fa-id-card text-warning"></i></a>
                            <a href="{{ url_for('perfil', id=s.id) }}" class="btn btn-sm btn-outline-dark"><i class="fas fa-user-edit"></i></a>
                            <a href="{{ url_for('remover', tipo='socio', id=s.id) }}" class="btn btn-sm btn-outline-danger" onclick="return confirm('Excluir condutor?')"><i class="fas fa-trash-alt"></i></a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
