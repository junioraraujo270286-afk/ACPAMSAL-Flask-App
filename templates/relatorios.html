{% extends "base.html" %}

{% block title %}Relatórios e Resumos{% endblock %}

{% block page_header %}Relatórios e Resumos Financeiros{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card text-white bg-success shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Receita Total (Pagamentos)</h5>
                        <h1 class="display-5">R$ {{ "{:,.2f}".format(total_receita).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-arrow-down-circle-fill display-4"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card text-white bg-danger shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Despesas Totais</h5>
                        <h1 class="display-5">R$ {{ "{:,.2f}".format(total_despesas).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-arrow-up-circle-fill display-4"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card text-white bg-{{ 'primary' if saldo >= 0 else 'warning' }} shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Saldo (Receita - Despesa)</h5>
                        <h1 class="display-5">R$ {{ "{:,.2f}".format(saldo).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-funnel-fill display-4"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card text-white bg-info shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Dívida Total em Aberto</h5>
                        <h1 class="display-5">R$ {{ "{:,.2f}".format(total_divida).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-currency-exchange display-4"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card text-white bg-secondary shadow">
            <div class="card-body">
                <h5 class="card-title">Relatório de Associados</h5>
                <p class="card-text">Lista de todos os associados com status e débitos detalhados.</p>
                <a href="{{ url_for('listar_associados') }}" class="btn btn-light"><i class="bi bi-file-earmark-bar-graph-fill"></i> Visualizar/Exportar</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
