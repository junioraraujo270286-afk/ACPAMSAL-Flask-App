{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block page_header %}Painel Administrativo - Visão Geral{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card text-white bg-primary shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Associados Cadastrados</h5>
                        <h1 class="display-4">{{ "{:,.0f}".format(total_associados).replace(",", ".") }}</h1>
                    </div>
                    <i class="bi bi-person-lines-fill display-4"></i>
                </div>
            </div>
            <div class="card-footer">
                <a href="{{ url_for('listar_associados') }}" class="text-white text-decoration-none">Ver Detalhes <i class="bi bi-arrow-right-circle-fill"></i></a>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card text-white bg-warning shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Dívida Total Estimada</h5>
                        <h1 class="display-4">R$ {{ "{:,.2f}".format(total_divida).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-currency-dollar display-4"></i>
                </div>
            </div>
            <div class="card-footer">
                <a href="{{ url_for('gerenciar_mensalidades_web') }}" class="text-white text-decoration-none">Gerenciar Mensalidades <i class="bi bi-arrow-right-circle-fill"></i></a>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card text-white bg-danger shadow">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title">Despesas Registradas</h5>
                        <h1 class="display-4">R$ {{ "{:,.2f}".format(total_despesas).replace(",", "X").replace(".", ",").replace("X", ".") }}</h1>
                    </div>
                    <i class="bi bi-receipt display-4"></i>
                </div>
            </div>
            <div class="card-footer">
                <a href="{{ url_for('gerenciar_despesas_web') }}" class="text-white text-decoration-none">Ver Despesas <i class="bi bi-arrow-right-circle-fill"></i></a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card text-dark bg-light shadow">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-arrow-up-circle-fill text-success"></i> Receita Total (Pagamentos)</h5>
                <p class="card-text fs-2">R$ {{ "{:,.2f}".format(total_receita).replace(",", "X").replace(".", ",").replace("X", ".") }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-6 mb-4">
        <div class="card text-white bg-{{ 'success' if saldo_aproximado >= 0 else 'danger' }} shadow">
            <div class="card-body">
                <h5 class="card-title"><i class="bi bi-funnel-fill"></i> Saldo Estimado (Receita - Despesa)</h5>
                <p class="card-text fs-2">R$ {{ "{:,.2f}".format(saldo_aproximado).replace(",", "X").replace(".", ",").replace("X", ".") }}</p>
            </div>
        </div>
    </div>
</div>

{% endblock %}
